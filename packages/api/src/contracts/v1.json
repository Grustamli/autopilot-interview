{"components":{"schemas":{"Error":{"additionalProperties":false,"properties":{"code":{"type":"string"},"errors":{"items":{"$ref":"#/components/schemas/ErrorDetail"},"type":["array","null"]},"message":{"type":"string"}},"required":["errors","message"],"type":"object"},"ErrorDetail":{"additionalProperties":false,"properties":{"code":{"type":"string"},"location":{"type":"string"},"message":{"type":"string"},"metadata":{"$ref":"#/components/schemas/ValidationMetadata"}},"required":["code","location","message"],"type":"object"},"MeResponseBody":{"additionalProperties":false,"properties":{"isTwoFactorPending":{"description":"Whether two-factor authentication is pending","type":"boolean"},"user":{"$ref":"#/components/schemas/SessionUser","description":"The user object"}},"required":["isTwoFactorPending","user"],"type":"object"},"SessionUser":{"additionalProperties":false,"properties":{"email":{"description":"The user's email address","type":"string"},"id":{"description":"The user's ID","type":"string"},"image":{"description":"The user's profile image URL","type":"string"},"isTwoFactorEnabled":{"description":"Whether two-factor authentication is enabled","type":"boolean"},"isVerified":{"description":"Whether the user's email is verified","type":"boolean"},"lastActiveAt":{"description":"The user's last activity time","format":"date-time","type":"string"},"lastLoggedInAt":{"description":"The user's last login time","format":"date-time","type":"string"},"name":{"description":"The user's name","type":"string"},"sessionExpiresAt":{"description":"When the current session will expire","format":"date-time","type":"string"}},"required":["id","email","name","isVerified","isTwoFactorEnabled","sessionExpiresAt"],"type":"object"},"SignInRequestBody":{"additionalProperties":false,"properties":{"cfTurnstileToken":{"description":"The Cloudflare Turnstile token","examples":["XXX.DUMMY.TOKEN"],"type":"string"},"email":{"description":"The user's email address","examples":["john_doe@example.com"],"format":"email","type":"string"},"password":{"description":"The user's password","examples":["password123"],"type":"string"}},"required":["cfTurnstileToken","email","password"],"type":"object"},"SignInResponseBody":{"additionalProperties":false,"properties":{"isTwoFactorPending":{"description":"Whether two-factor authentication is pending","type":"boolean"},"user":{"$ref":"#/components/schemas/SessionUser","description":"The user object"}},"required":["isTwoFactorPending","user"],"type":"object"},"ValidationMetadata":{"additionalProperties":false,"properties":{"allowed_values":{"items":{"type":"string"},"type":["array","null"]},"max_length":{"format":"int64","type":"integer"},"max_value":{"format":"double","type":"number"},"min_length":{"format":"int64","type":"integer"},"min_value":{"format":"double","type":"number"},"regex":{"type":"string"}},"type":"object"}},"securitySchemes":{"bearerAuth":{"bearerFormat":"JWT","description":"API key authentication","scheme":"bearer","type":"http"}}},"info":{"description":"The Autopilot Platform API provides a comprehensive suite of endpoints.","title":"Autopilot API","version":"1.0.0"},"openapi":"3.1.0","paths":{"/v1/identity/me":{"get":{"operationId":"get-session","parameters":[{"description":"The session cookie","in":"cookie","name":"session","schema":{"description":"The session cookie","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeResponseBody"}}},"description":"OK"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"Error"}},"summary":"Get current user session","tags":["Identity"]}},"/v1/identity/sign-in":{"post":{"operationId":"sign-in","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInRequestBody"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInResponseBody"}}},"description":"OK","headers":{"Domain":{"schema":{"type":"string"}},"Expires":{"schema":{"type":"string"}},"HttpOnly":{"schema":{"type":"boolean"}},"MaxAge":{"schema":{"format":"int64","type":"integer"}},"Name":{"schema":{"type":"string"}},"Partitioned":{"schema":{"type":"boolean"}},"Path":{"schema":{"type":"string"}},"Quoted":{"schema":{"type":"boolean"}},"Raw":{"schema":{"type":"string"}},"RawExpires":{"schema":{"type":"string"}},"SameSite":{"schema":{"format":"int64","type":"integer"}},"Secure":{"schema":{"type":"boolean"}},"Set-Cookie":{"schema":{"type":"string"}},"Unparsed":{"schema":{"type":"string"}},"Value":{"schema":{"type":"string"}}}},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"Error"}},"summary":"Authenticate and create a new session","tags":["Identity"]}},"/v1/identity/sign-out":{"delete":{"operationId":"sign-out","parameters":[{"description":"The session cookie","in":"cookie","name":"session","schema":{"description":"The session cookie","type":"string"}}],"responses":{"204":{"description":"No Content","headers":{"Domain":{"schema":{"type":"string"}},"Expires":{"schema":{"type":"string"}},"HttpOnly":{"schema":{"type":"boolean"}},"MaxAge":{"schema":{"format":"int64","type":"integer"}},"Name":{"schema":{"type":"string"}},"Partitioned":{"schema":{"type":"boolean"}},"Path":{"schema":{"type":"string"}},"Quoted":{"schema":{"type":"boolean"}},"Raw":{"schema":{"type":"string"}},"RawExpires":{"schema":{"type":"string"}},"SameSite":{"schema":{"format":"int64","type":"integer"}},"Secure":{"schema":{"type":"boolean"}},"Set-Cookie":{"schema":{"type":"string"}},"Unparsed":{"schema":{"type":"string"}},"Value":{"schema":{"type":"string"}}}},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"Error"}},"summary":"Terminate current session","tags":["Identity"]}}},"security":[],"servers":[{"description":"Production API","url":"http://localhost:3001"}],"tags":[{"description":"Identity management","name":"Identity"}],"x-sdk-id":"v1"}